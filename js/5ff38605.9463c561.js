(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["5ff38605"],{"085d":function(t,e,i){},"18d2":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"column",staticStyle:{padding:"0 2rem",height:"100%"}},[i("div",{staticClass:"col-1 row items-center text-h5"},[i("div",{staticStyle:{"padding-right":"2rem"}},[t._v(t._s(t.title))])]),i("div",{staticClass:"col-11 row"},[i("div",{staticClass:"col-5 column",staticStyle:{"flex-wrap":"nowrap"}},[i("div",{staticClass:"row items-center",staticStyle:{"padding-bottom":"1.5rem"}},[i("div",{staticClass:"col-2",staticStyle:{"font-size":"1.25rem"}},[t._v("链接类型 : ")]),i("div",[i("q-radio",{attrs:{val:"blog",label:"博客"},model:{value:t.linkType,callback:function(e){t.linkType=e},expression:"linkType"}}),i("q-radio",{attrs:{val:"web",label:"社区"},model:{value:t.linkType,callback:function(e){t.linkType=e},expression:"linkType"}})],1)]),i("div",{staticClass:"row items-center",staticStyle:{"padding-bottom":"1.5rem"}},[i("div",{staticClass:"col-2",staticStyle:{"font-size":"1.25rem"}},[t._v("网站名称 : ")]),i("div",{staticClass:"col-8",staticStyle:{"padding-left":"0.5rem"}},[i("q-input",{attrs:{outlined:"",dense:"",color:"primary",placeholder:"网站名称"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)]),i("div",{staticClass:"row items-center",staticStyle:{"padding-bottom":"1.5rem"}},[i("div",{staticClass:"col-2",staticStyle:{"font-size":"1.25rem"}},[t._v("网站域名 : ")]),i("div",{staticClass:"col-8",staticStyle:{"padding-left":"0.5rem"}},[i("q-input",{attrs:{outlined:"",dense:"",color:"primary",placeholder:"网站域名"},model:{value:t.domain,callback:function(e){t.domain=e},expression:"domain"}})],1)]),i("div",{staticClass:"row items-center",staticStyle:{"padding-bottom":"1.5rem"}},[i("div",{staticClass:"col-2 row items-center",staticStyle:{"font-size":"1.25rem"}},[t._v("图标地址 : ")]),i("div",{staticClass:"col-8 ",staticStyle:{"padding-left":"0.5rem"}},[i("q-input",{attrs:{outlined:"",dense:"",color:"primary",placeholder:"图标地址"},model:{value:t.imgUrl,callback:function(e){t.imgUrl=e},expression:"imgUrl"}})],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-5"},[i("img",{staticStyle:{height:"5rem",width:"5rem"},attrs:{src:t.imgUrl}})]),i("q-btn",{staticClass:"col-3",staticStyle:{height:"2.5rem"},attrs:{rounded:"",color:"primary",label:"提交"},on:{click:t.submit}})],1)])])])},n=[],s=i("967e"),l=i.n(s),o=(i("96cf"),i("6b54"),i("06db"),i("a481"),i("fa84")),r=i.n(o),c=(i("7f7f"),{name:"UpdateLink",data:function(){return{linkType:"blog",website:{},name:"",domain:"",imgUrl:""}},watch:{$route:function(t,e){"/updatelink/new"===t.path&&(this.linkType="blog",this.website={},this.name="",this.domain="",this.imgUrl="")}},computed:{title:function(){return"new"===this.$route.params.id?"新建友链":"修改友链"}},methods:{submit:function(){"new"===this.$route.params.id?u(this):p(this)}},created:function(){var t=this;t.$q.loading.show(),"new"!==this.$route.params.id?d(this).then(function(e){t.website=e,t.name=e.name,t.domain=e.domain,t.imgUrl=e.img,t.linkType=e.type,t.$q.loading.hide()}):t.$q.loading.hide()}});function d(t){return m.apply(this,arguments)}function m(){return m=r()(l.a.mark(function t(e){var i,a;return l.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.$q.loading.show(),i=e.Bmob.Query("link"),t.next=4,i.get(e.$route.params.id);case 4:return a=t.sent,t.abrupt("return",a);case 6:case"end":return t.stop()}},t)})),m.apply(this,arguments)}function u(t){t.$q.loading.show();var e=t.Bmob.Query("link");e.set("type",t.linkType),e.set("name",t.name),e.set("domain",t.domain),e.set("img",t.imgUrl),e.save().then(function(e){t.$q.loading.hide(),t.$q.notify({message:"添加成功",color:"primary",timeout:1e3}),t.$router.replace("/link"),t.$store.commit("active/updateActive",5)}).catch(function(e){t.$q.loading.hide(),t.$q.dialog({title:"提示",message:e.toString(),ok:"确定",cancel:!1})})}function p(t){t.$q.loading.show();var e=t.Bmob.Query("link");e.set("id",t.website.objectId),e.set("type",t.linkType),e.set("name",t.name),e.set("domain",t.domain),e.set("img",t.imgUrl),e.save().then(function(e){t.$q.loading.hide(),t.$q.notify({message:"修改成功",color:"primary",timeout:3e3}),t.$router.replace("/link"),t.$store.commit("active/updateActive",5)}).catch(function(e){t.$q.loading.hide(),t.$q.dialog({title:"提示",message:e.toString(),ok:"确定",cancel:!1})})}var g=c,h=(i("d62b"),i("2877")),v=Object(h["a"])(g,a,n,!1,null,"795f022e",null);e["default"]=v.exports},d62b:function(t,e,i){"use strict";var a=i("085d"),n=i.n(a);n.a}}]);